╔════════════════════════════════════════════════════════════════════════╗
║                     BIZTONSÁGI AUDIT CHECKLIST                         ║
║                   Dózsa Apartman Szeged - 2025-10-15                   ║
╚════════════════════════════════════════════════════════════════════════╝

┌────────────────────────────────────────────────────────────────────────┐
│ KRITIKUS PROBLÉMÁK (AZONNAL!)                                          │
└────────────────────────────────────────────────────────────────────────┘

⚠️  CRITICAL  [ ] reCAPTCHA secret key hardcoded
    Fájl: src/php/recaptcha-validator.php (14. sor)
    Kulcs: 6LeLt-grAAAAAP2LaXGZmrHMEAqy1dckAmJV2BD5
    Git: commit 650ab28 (2025-10-15)
    
    ✓ Teendők:
      [ ] Új kulcspár generálása (google.com/recaptcha/admin)
      [ ] Régi kulcsok törlése
      [ ] .env fájl létrehozása
      [ ] PHP kód módosítása (env variable)
      [ ] Git history tisztítás (opcionális)

┌────────────────────────────────────────────────────────────────────────┐
│ MAGAS PRIORITÁSÚ PROBLÉMÁK (1-2 nap)                                   │
└────────────────────────────────────────────────────────────────────────┘

⚠️  HIGH  [ ] Email Header Injection
    Fájlok: send-contact.php (164. sor), send-booking.php (212. sor)
    
    ✓ Teendő: sanitizeEmailHeader() funkció hozzáadása

⚠️  HIGH  [ ] Debug fájlok production-ben
    Fájlok: src/php/test-contact.php, src/debug-recaptcha.html
    
    ✓ Teendő: Fájlok törlése VAGY .htaccess védelem

⚠️  HIGH  [ ] Hiányzó config konstansok
    Fájl: src/php/send-booking.php
    Hiányzó: CONTACT_TO_EMAIL, CONTACT_FROM_EMAIL, RATE_LIMIT_SECONDS
    
    ✓ Teendő: Konstansok hozzáadása config.php-hez

┌────────────────────────────────────────────────────────────────────────┐
│ KÖZEPES PRIORITÁSÚ PROBLÉMÁK (1 hét)                                   │
└────────────────────────────────────────────────────────────────────────┘

⚠️  MEDIUM  [ ] Hiányzó .env fájl
    ✓ Teendő: .env létrehozása és kitöltése

⚠️  MEDIUM  [ ] Nincsenek security headerek
    ✓ Teendő: .htaccess fájl létrehozása

⚠️  MEDIUM  [ ] PHP 7.4 EOL
    ✓ Teendő: PHP 8.1+ verzióra frissítés

⚠️  MEDIUM  [ ] Error reporting production-ben
    ✓ Teendő: Environment-based konfiguráció

┌────────────────────────────────────────────────────────────────────────┐
│ ALACSONY PRIORITÁSÚ PROBLÉMÁK (1 hónap)                                │
└────────────────────────────────────────────────────────────────────────┘

⚠️  LOW  [ ] htmlspecialchars hiányzó paraméterek
    ✓ Teendő: ENT_QUOTES, UTF-8 hozzáadása

⚠️  LOW  [ ] console.log production-ben
    ✓ Teendő: Debug flag vagy production build

┌────────────────────────────────────────────────────────────────────────┐
│ NINCS PROBLÉMA ✓                                                       │
└────────────────────────────────────────────────────────────────────────┘

✓ SQL Injection: Nincs adatbázis kapcsolat
✓ File Upload: Nincs file upload funkció
✓ XSS: Jól használja a htmlspecialchars()-t

┌────────────────────────────────────────────────────────────────────────┐
│ STATISZTIKA                                                             │
└────────────────────────────────────────────────────────────────────────┘

Talált problémák összesen:  10
  - Kritikus (P0):           1  ⚠️⚠️⚠️
  - Magas (P1):              3  ⚠️⚠️
  - Közepes (P2):            4  ⚠️
  - Alacsony (P3):           2  ℹ️

CVSS átlag:                5.8 (KÖZEPES)
Legmagasabb CVSS:          9.8 (KRITIKUS)

┌────────────────────────────────────────────────────────────────────────┐
│ ÉRINTETT FÁJLOK                                                         │
└────────────────────────────────────────────────────────────────────────┘

KRITIKUS:
  📄 src/php/recaptcha-validator.php
  📄 RECAPTCHA_SETUP.md

MAGAS:
  📄 src/php/send-contact.php
  📄 src/php/send-booking.php
  📄 src/api/quote-request.php
  📄 src/php/test-contact.php (TÖRLÉS!)
  📄 src/debug-recaptcha.html (TÖRLÉS!)

KÖZEPES:
  📄 src/php/config.php
  📄 .env (LÉTREHOZÁS!)
  📄 src/.htaccess (LÉTREHOZÁS!)
  📄 src/js/wizard.js

┌────────────────────────────────────────────────────────────────────────┐
│ DOKUMENTÁCIÓK                                                           │
└────────────────────────────────────────────────────────────────────────┘

📋 SECURITY-AUDIT-REPORT.md
   └─ Teljes technikai riport (angolul)
   └─ Részletes vulnerability leírás
   └─ CVSS scoring
   └─ Kód példák

📋 QUICK-FIX-GUIDE.md
   └─ Gyors javítási útmutató (magyarul)
   └─ Lépésenkénti instrukciók
   └─ Kész kód snippet-ek
   └─ Ellenőrző lista

📋 BIZTONSÁGI-OSSZEFOGLALO.md
   └─ Gyors áttekintés (magyarul)
   └─ Legfontosabb problémák
   └─ Azonnali teendők

📋 SECURITY-CHECKLIST.txt
   └─ Ez a fájl
   └─ Vizuális checklist

┌────────────────────────────────────────────────────────────────────────┐
│ AZONNALI TEENDŐK (PRIORITÁSI SORREND)                                  │
└────────────────────────────────────────────────────────────────────────┘

1️⃣  [ ] reCAPTCHA kulcsok csereje (MOST!)
2️⃣  [ ] .env fájl létrehozása (MOST!)
3️⃣  [ ] PHP kód módosítása (MA)
4️⃣  [ ] Email header injection védelem (MA)
5️⃣  [ ] Debug fájlok törlése (MA)
6️⃣  [ ] Config konstansok hozzáadása (MA)
7️⃣  [ ] .htaccess security headerek (HOLNAP)
8️⃣  [ ] Git commit és deploy (HOLNAP)
9️⃣  [ ] Production tesztelés (HOLNAP)
🔟  [ ] Monitoring beállítása (1 HÉT)

┌────────────────────────────────────────────────────────────────────────┐
│ GYORS TESZTEK                                                           │
└────────────────────────────────────────────────────────────────────────┘

PHP szintaxis ellenőrzés:
  $ php -l src/php/recaptcha-validator.php

.env ellenőrzés:
  $ test -f .env && echo "EXISTS" || echo "MISSING!"
  $ git status | grep ".env" && echo "⚠️ .env in git!" || echo "✓ OK"

Security headers teszt:
  $ curl -I https://dozsa-apartman-szeged.hu

reCAPTCHA teszt:
  Online: https://securityheaders.com/

┌────────────────────────────────────────────────────────────────────────┐
│ FONTOS EMLÉKEZTETŐK                                                     │
└────────────────────────────────────────────────────────────────────────┘

⚠️  .env fájl SOHA ne kerüljön a git-be!
⚠️  Secret key-ek SOHA ne legyenek nyilvánosak!
⚠️  Debug fájlok SOHA ne legyenek production-ben!
⚠️  Rendszeres biztonsági audit (havonta)!

✓  Backup készítése módosítás előtt
✓  Local tesztelés Docker-ben
✓  Production tesztelés deploy után
✓  Log monitoring beállítása

┌────────────────────────────────────────────────────────────────────────┐
│ KÖVETKEZŐ LÉPÉSEK                                                       │
└────────────────────────────────────────────────────────────────────────┘

1. Olvasd el a QUICK-FIX-GUIDE.md-t
2. Kövesd a lépéseket egyenként
3. Jelöld be minden lépés után [✓]
4. Teszteld local-ban
5. Deploy production-re
6. Ellenőrizd a logokat
7. Tervezz havonta audit-ot

┌────────────────────────────────────────────────────────────────────────┐
│ TÁMOGATÁS                                                               │
└────────────────────────────────────────────────────────────────────────┘

Kérdések:
  📧 developer@example.com
  📞 +36 XX XXX XXXX

Hasznos linkek:
  🔗 https://securityheaders.com/
  🔗 https://observatory.mozilla.org/
  🔗 https://www.ssllabs.com/ssltest/
  🔗 https://owasp.org/

╔════════════════════════════════════════════════════════════════════════╗
║  "A biztonság nem opció, hanem kötelezettség!"                         ║
║                                                                          ║
║  Sok sikert a javításokhoz!                                            ║
║                                                                          ║
║  - Claude Code, Senior Security Engineer                               ║
╚════════════════════════════════════════════════════════════════════════╝

Riport készült: 2025-10-15
Következő audit: 2025-11-15
